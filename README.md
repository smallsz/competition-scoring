# 比赛评分系统 - 使用文档

## 📋 目录

1. [系统概述](#系统概述)
2. [快速开始](#快速开始)
3. [功能详解](#功能详解)
   - [打分通道](#打分通道)
   - [名次看板](#名次看板)
   - [打分记录](#打分记录)
4. [使用流程](#使用流程)
5. [常见问题](#常见问题)

---

## 🎯 系统概述

比赛评分系统是一款专业、公平、透明的在线评分工具，适用于各类比赛活动。

### ✨ 核心特性

- **📱 多端支持**：电脑、手机、平板均可使用
- **📷 扫码接入**：评委可通过扫码快速进入打分系统
- **👥 多人协作**：支持21位评委同时在线打分
- **⚖️ 公平算法**：自动去掉最高分和最低分计算平均分
- **⏱️ 时间管理**：支持比赛用时记录和时间扣分
- **🏆 炫酷展示**：实时排名看板，支持自动刷新
- **📊 完整报表**：详细评分记录，支持数据导出

### 👥 角色说明

| 角色 | 权限 | 说明 |
|------|------|------|
| 评委 | 打分 | 为选手打分（0-100分） |
| 计分人员 | 管理 | 添加选手、输入时间、查看排名 |
| 观众 | 查看 | 仅可查看名次看板 |

---

## 🚀 快速开始

### 方式一：本地运行

1. **打开系统**
   ```bash
   # 使用浏览器直接打开
   双击 index.html
   # 或
   右键 → 打开方式 → Chrome/Edge
   ```

2. **访问地址**
   ```
   file:///your-path/competition-scoring/index.html
   ```

### 方式二：部署到服务器

1. **使用 Python 启动**
   ```bash
   cd competition-scoring
   python -m http.server 8000
   ```

2. **访问系统**
   ```
   http://localhost:8000
   ```

3. **局域网访问**（其他设备可扫码）
   ```
   http://你的IP地址:8000
   ```

---

## 📖 功能详解

### 📝 打分通道

#### 评委入口

1. **进入打分通道**
   - 点击主界面的"打分通道"卡片
   - 选择"评委入口"

2. **扫码进入（推荐）**
   - 点击"生成二维码"按钮
   - 使用手机扫描二维码
   - 手机浏览器打开链接

3. **登录打分**
   - 输入您的姓名
   - 点击"开始打分"
   - 选择要打分的选手
   - 点击分数按钮（0-100分，步长5分）
   - 确认提交

#### 计分人员入口

1. **进入计分面板**
   - 点击主界面的"打分通道"卡片
   - 选择"计分人员入口"

2. **设置比赛主题**
   - 输入比赛主题名称（如"2024年度歌手大赛"）
   - 点击"保存主题"

3. **添加选手**
   - 在输入框中输入选手姓名
   - 点击"添加"按钮
   - 选手将出现在列表中

4. **输入比赛用时**
   - 选手表演完成后，点击"输入时间"按钮
   - 输入比赛用时（分钟）
   - 系统自动计算扣分：
     - 用时 ≤ 5分钟：0扣分
     - 用时 > 5分钟：每超过1分钟扣10分
   - 点击"确认"保存

#### 评分规则

```
最终得分 = (去掉最高分和最低分后的平均分) - 时间扣分

示例：
  21位评委打分：75, 80, 85, 78, 82, ...
  去掉最高分：95
  去掉最低分：65
  剩余19个分数求平均 = 82.5
  比赛用时：7分钟
  时间扣分：(7-5) × 10 = 20分
  最终得分：82.5 - 20 = 62.5分
```

### 📊 名次看板

#### 功能说明

- 实时显示所有已完成打分选手的排名
- 支持自动刷新（每3秒）
- 金/银/铜牌前三名特殊样式展示
- 显示比赛主题名称

#### 视觉效果

- **前三名**：特殊渐变色边框和排名徽章
- **自动刷新**：分数变化时闪烁提示
- **粒子背景**：动态粒子特效
- **主题横幅**：炫酷的旋转光效

#### 操作按钮

| 按钮 | 功能 |
|------|------|
| 🔄 自动刷新 | 开启/暂停自动刷新 |
| 返回主界面 | 回到主菜单 |

### 📋 打分记录

#### 查看详细记录

1. 点击"打分记录"进入报表页面
2. 选择任意选手查看详细评分

#### 记录内容

每位选手的评分报告包含：

```
选手：张三
用时：6.5分钟

评委打分详情：
  李四：85分（最高分标记）
  王五：78分
  赵六：82分
  ...（其他评委分数）

统计汇总：
  评委人数：21人
  最高分：95分
  最低分：65分
  基础均分：82.5分
  时间扣分：15分
  最终得分：67.5分
```

#### 导出报表

- 点击"导出报表"按钮
- 自动生成 CSV 文件
- 包含所有选手的汇总数据和详细打分记录

---

## 📋 使用流程

### 完整的比赛评分流程

```
Step 1: 准备工作
├── 计分人员打开系统
├── 设置比赛主题名称
└── 添加所有参赛选手

Step 2: 评委准备
├── 计分人员生成二维码
├── 评委使用手机扫码
└── 评委输入姓名登录

Step 3: 比赛进行
├── 选手依次上台表演
├── 评委为每位选手打分
└── 表演结束后记录用时

Step 4: 成绩公布
├── 打开"名次看板"
├── 查看实时排名
└── 导出最终成绩
```

### 详细操作步骤

#### 第一步：系统初始化

1. 打开 `index.html` 文件
2. 点击"打分通道" → "计分人员入口"
3. 设置比赛主题（必填）
4. 添加所有参赛选手

#### 第二步：评委接入

**方式一：扫码接入（推荐）**

1. 在打分通道页面，点击"生成二维码"
2. 评委使用手机微信/浏览器扫码
3. 手机浏览器打开链接
4. 输入姓名，点击"开始打分"

**方式二：电脑端直接使用**

1. 在同一电脑上打开系统
2. 点击"打分通道" → "评委入口"
3. 输入姓名即可开始

#### 第三步：打分进行

1. 评委从列表中选择要打分的选手
2. 点击对应的分数按钮（0-100分）
3. 点击"确认提交分数"

**注意事项：**

- 每个选手只能被打分一次
- 21位评委都需要完成打分
- 分数提交后无法修改

#### 第四步：输入比赛用时

1. 选手表演结束后
2. 计分人员点击"输入时间"
3. 输入实际用时（分钟）
4. 系统自动计算扣分
5. 点击"确认"

#### 第五步：查看结果

1. 点击"名次看板"查看排名
2. 点击"打分记录"查看详情
3. 点击"导出报表"下载数据

---

## ❓ 常见问题

### Q1: 评委忘记姓名怎么办？

**答**：可以重新登录。点击"退出"按钮，重新输入姓名即可。

### Q2: 分数打错了能修改吗？

**答**：当前版本分数提交后无法修改。建议评委在提交前仔细确认。

### Q3: 选手信息输入错误怎么办？

**答**：计分人员可以在选手列表中找到该选手，点击"删除"按钮删除后重新添加。

### Q4: 如何让其他设备访问系统？

**答**：

1. 确保电脑和手机在同一局域网
2. 使用 Python 启动本地服务器：
   ```bash
   python -m http.server 8000
   ```
3. 查看电脑IP地址（Windows上运行 `ipconfig`）
4. 手机浏览器访问：`http://电脑IP:8000`

### Q5: 数据会丢失吗？

**答**：数据存储在浏览器本地存储（localStorage）中。
- **不会丢失**：刷新页面、更换浏览器窗口
- **会丢失**：清除浏览器缓存、更换电脑

**建议**：定期导出报表备份数据。

### Q6: 为什么看不到排名？

**答**：排名显示需要满足以下条件：
- 选手已被21位评委全部打分
- 计分人员已输入比赛用时

### Q7: 如何暂停/恢复自动刷新？

**答**：在名次看板页面，点击"自动刷新"按钮即可切换状态。

### Q8: 最多支持多少评委？

**答**：系统设计支持21位评委。如需调整，需要修改源代码中的参数。

### Q9: 手机上打分按钮太小怎么办？

**答**：系统已做响应式优化。如仍不适应，可以：
- 使用电脑端打分
- 放大浏览器页面（Ctrl + +）

### Q10: 如何查看评委给分详情？

**答**：
1. 点击"打分记录"
2. 选择要查看的选手
3. 滚动到"评委打分详情"部分

---

## 🔧 技术说明

### 技术栈

- **HTML5**：页面结构
- **CSS3**：视觉效果（渐变、动画、响应式）
- **JavaScript**：业务逻辑
- **localStorage**：数据持久化
- **QRCode.js**：二维码生成

### 浏览器支持

| 浏览器 | 支持版本 |
|--------|----------|
| Chrome | 60+ |
| Firefox | 55+ |
| Safari | 11+ |
| Edge | 79+ |
| IE | 不支持 |

### 数据存储

所有数据保存在浏览器本地存储中：

| 存储项 | 键名 | 说明 |
|--------|------|------|
| 选手列表 | `contestants` | JSON数组 |
| 评分数据 | `scores` | JSON对象 |
| 时间记录 | `timeRecords` | JSON对象 |
| 比赛主题 | `themes` | 字符串 |

### 离线使用

系统支持离线使用：
- 首次加载后无需网络
- 所有功能均可离线使用
- 扫码功能需要网络

---

## 📝 更新日志

### v1.0.0 (2024-02-10)

- ✨ 初始版本发布
- 🎨 炫酷粒子背景效果
- 📱 响应式设计
- 🏆 实时排名看板
- 📊 完整评分报表
- 📷 二维码扫码接入
- ⏱️ 时间扣分功能
- 💾 数据本地存储

---

## 📞 技术支持

如有问题或建议，请联系系统管理员。

---

**祝您比赛圆满成功！** 🎉
